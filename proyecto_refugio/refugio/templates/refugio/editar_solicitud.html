{% extends 'refugio/base.html' %}

{% block content %}
<style>
    .pokeball-card { border: 6px solid #313131; border-radius: 20px; overflow: hidden; background: white; }
    .pokeball-top { background-color: #3b82f6; color: white; padding: 20px; text-align: center; border-bottom: 6px solid #313131; }
    .pokeball-bottom { padding: 30px; background-color: #f2f2f2; }
    .btn-pokemon { background-color: #ffcb05; color: #3b4cca; font-weight: bold; border: 3px solid #3b4cca; font-size: 1.2rem; transition: 0.2s; }
    .btn-pokemon:hover { background-color: #3b82f6; color: white; border-color: #313131; }
    .form-control:focus, .form-select:focus { border-color: #3b82f6; box-shadow: 0 0 0 0.25rem rgba(59, 130, 246, 0.25); }
    .animal-mini-pic { width: 120px; height: 120px; object-fit: cover; border-radius: 50%; border: 5px solid #3b82f6; box-shadow: 0 4px 10px rgba(0,0,0,0.15); background: white; margin-bottom: 20px; }
    .form-check-label { font-weight: bold; color: #6c757d; }
</style>

<div class="row justify-content-center mt-4 mb-5">
    <div class="col-md-8 col-lg-6">
        <a href="{% url 'mi_perfil' %}" class="btn btn-outline-secondary mb-3 fw-bold">‚Üê Volver al perfil</a>
        
        <div class="pokeball-card shadow-lg">
            <div class="pokeball-top">
                <h2 class="fw-bold m-0 text-white">EDITAR SOLICITUD</h2>
            </div>
            
            <div class="pokeball-bottom text-center">
                {% if solicitud.animal.foto %}
                    <img src="{{ solicitud.animal.foto.url }}" class="animal-mini-pic" alt="{{ solicitud.animal.nombre }}">
                {% else %}
                    <div class="animal-mini-pic d-inline-flex align-items-center justify-content-center bg-secondary text-white fw-bold fs-1 mb-3">?</div>
                {% endif %}
                
                <h4 class="fw-bold">Actualiza los datos para {{ solicitud.animal.nombre }}</h4>

                <form method="post" class="text-start fw-bold text-secondary mt-4">
                    {% csrf_token %}
                    
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label class="form-label">{{ form.telefono.label }}</label>
                            {{ form.telefono }}
                        </div>
                        <div class="col-md-6 mb-3">
                            <label class="form-label">{{ form.tipo_vivienda.label }}</label>
                            {{ form.tipo_vivienda }}
                        </div>
                    </div>

                    <div class="row mb-3">
                        <div class="col-md-6 mb-2">
                            <label class="form-label">{{ form.horas_solitario.label }}</label>
                            {{ form.horas_solitario }}
                        </div>
                    </div>

                    <div class="mb-3 form-check d-flex align-items-center">
                        {{ form.experiencia_previa }}
                        <label class="form-check-label ms-2 mt-2">{{ form.experiencia_previa.label }}</label>
                    </div>

                    <div class="mb-3 form-check d-flex align-items-center">
                        {{ form.otras_mascotas }}
                        <label class="form-check-label ms-2 mt-2">{{ form.otras_mascotas.label }}</label>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">{{ form.motivo.label }}</label>
                        {{ form.motivo }}
                    </div>
                    
                    <div class="d-grid mt-4">
                        <button type="submit" class="btn btn-pokemon py-3">GUARDAR CAMBIOS</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}